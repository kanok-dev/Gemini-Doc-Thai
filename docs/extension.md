# ส่วนขยาย Gemini CLI

Gemini CLI รองรับส่วนขยายที่สามารถใช้เพื่อกำหนดค่าและขยายฟังก์ชันการทำงาน

## วิธีการทำงาน

เมื่อเริ่มต้น Gemini CLI จะมองหาส่วนขยายในสองตำแหน่ง:

1.  `<workspace>/.gemini/extensions`
2.  `<home>/.gemini/extensions`

Gemini CLI โหลดส่วนขยายทั้งหมดจากทั้งสองตำแหน่ง หากส่วนขยายที่มีชื่อเดียวกันมีอยู่ในทั้งสองตำแหน่ง ส่วนขยายในไดเร็กทอรี workspace จะมีความสำคัญเหนือกว่า

ภายในแต่ละตำแหน่ง ส่วนขยายแต่ละตัวจะมีอยู่เป็นไดเร็กทอรีที่มีไฟล์ `gemini-extension.json` ตัวอย่าง:

`<workspace>/.gemini/extensions/my-extension/gemini-extension.json`

### `gemini-extension.json`

ไฟล์ `gemini-extension.json` มีการกำหนดค่าสำหรับส่วนขยาย ไฟล์นี้มีโครงสร้างดังนี้:

```json
{
  "name": "my-extension",
  "version": "1.0.0",
  "mcpServers": {
    "my-server": {
      "command": "node my-server.js"
    }
  },
  "contextFileName": "GEMINI.md"
}
```

- `name`: ชื่อของส่วนขยาย ใช้เพื่อระบุส่วนขยายอย่างเฉพาะเจาะจง ควรตรงกับชื่อไดเร็กทอรีส่วนขยายของคุณ
- `version`: เวอร์ชันของส่วนขยาย
- `mcpServers`: แมพของเซิร์ฟเวอร์ MCP ที่จะกำหนดค่า key คือชื่อของเซิร์ฟเวอร์ และ value คือการกำหนดค่าเซิร์ฟเวอร์ เซิร์ฟเวอร์เหล่านี้จะถูกโหลดเมื่อเริ่มต้นเหมือนกับเซิร์ฟเวอร์ MCP ที่กำหนดค่าในไฟล์ [`settings.json`](./cli/configuration.md) หากทั้งส่วนขยายและไฟล์ `settings.json` กำหนดค่าเซิร์ฟเวอร์ MCP ที่มีชื่อเดียวกัน เซิร์ฟเวอร์ที่นิยามในไฟล์ `settings.json` จะมีความสำคัญเหนือกว่า
- `contextFileName`: ชื่อของไฟล์ที่มีบริบทสำหรับส่วนขยาย จะใช้เพื่อโหลดบริบทจาก workspace หากคุณสมบัตินี้ไม่ได้ใช้ แต่มีไฟล์ `GEMINI.md` อยู่ในไดเร็กทอรีส่วนขยายของคุณ ไฟล์นั้นจะถูกโหลด

เมื่อ Gemini CLI เริ่มต้น จะโหลดส่วนขยายทั้งหมดและผสานการกำหนดค่า หากมีความขัดแย้งใดๆ การกำหนดค่า workspace จะมีความสำคัญเหนือกว่า
