# Tools API

เอกสารนี้อธิบายวิธีที่แพ็คเกจ Core จัดการและเปิดเผยเครื่องมือสำหรับโมเดล Gemini

## ภาพรวม

Tools API ให้กรอบงานสำหรับ:
- การลงทะเบียนเครื่องมือ
- การดำเนินการเครื่องมือ
- การจัดการความปลอดภัย
- การขยายฟังก์ชันการทำงาน

## เครื่องมือที่มีอยู่ในตัว

### เครื่องมือระบบไฟล์
- `read_file`: อ่านเนื้อหาไฟล์
- `write_file`: เขียนเนื้อหาลงไฟล์
- `list_directory`: แสดงรายการเนื้อหาไดเร็กทอรี

### เครื่องมือการค้นหา
- `glob_search`: ค้นหาไฟล์ด้วยรูปแบบ glob
- `text_search`: ค้นหาข้อความในไฟล์

### เครื่องมือเชลล์
- `run_shell_command`: รันคำสั่งเชลล์

### เครื่องมือเว็บ
- `web_fetch`: ดึงข้อมูลจาก URL
- `google_web_search`: ค้นหาเว็บด้วย Google

### เครื่องมือหน่วยความจำ
- `save_memory`: บันทึกข้อมูลลงหน่วยความจำ

## การสร้างเครื่องมือแบบกำหนดเอง

### ข้อกำหนด

เครื่องมือแบบกำหนดเองต้องมี:
- การนิยาม function schema
- การใช้งาน execution logic
- การจัดการข้อผิดพลาด
- การตรวจสอบความปลอดภัย

### ตัวอย่างการใช้งาน

```typescript
interface ToolDefinition {
  name: string;
  description: string;
  parameters: {
    type: 'object';
    properties: Record<string, any>;
    required?: string[];
  };
}

interface ToolImplementation {
  execute(args: any): Promise<any>;
  validate?(args: any): boolean;
}
```

## การลงทะเบียนเครื่องมือ

เครื่องมือสามารถลงทะเบียนได้ผ่าน:
- การกำหนดค่าในไฟล์ `settings.json`
- การลงทะเบียนโปรแกรม
- MCP (Model Context Protocol) servers

## การจัดการความปลอดภัย

### การจำแนกประเภทเครื่องมือ

เครื่องมือจำแนกเป็น:
- **ปลอดภัย**: เครื่องมือแบบอ่านอย่างเดียว
- **ต้องการอนุญาต**: เครื่องมือที่แก้ไขระบบ
- **อันตราย**: เครื่องมือที่อาจเป็นอันตราย

### กลไกการอนุญาต

- การยืนยันจากผู้ใช้สำหรับการดำเนินการที่เสี่ยง
- การจำกัดการเข้าถึงทรัพยากร
- การใช้ sandbox สำหรับการแยก

## การขยายระบบเครื่องมือ

### ผ่าน MCP Servers

Model Context Protocol (MCP) ช่วยให้สามารถรวมเครื่องมือจากแหล่งภายนอก:
- เซิร์ฟเวอร์ที่กำหนดเอง
- บริการของบุคคลที่สาม
- การรวมระบบเฉพาะ

### ผ่าน Tool Discovery

ใช้ `toolDiscoveryCommand` และ `toolCallCommand` สำหรับการค้นพบและการใช้งานเครื่องมือแบบไดนามิก
